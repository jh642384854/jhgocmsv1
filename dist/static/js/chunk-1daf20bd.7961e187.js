(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1daf20bd"],{"34b7":function(t,e,s){"use strict";s.d(e,"c",function(){return a}),s.d(e,"f",function(){return n}),s.d(e,"b",function(){return o}),s.d(e,"e",function(){return i}),s.d(e,"a",function(){return l}),s.d(e,"d",function(){return u});var r=s("b775");function a(t){return Object(r["a"])({url:"admin/settings/sys",method:"get",params:t})}function n(t){return Object(r["a"])({url:"admin/settings/sys",method:"post",data:t})}function o(t){return Object(r["a"])({url:"admin/settings/email",method:"get",params:t})}function i(t){return Object(r["a"])({url:"admin/settings/email",method:"post",data:t})}function l(t){return Object(r["a"])({url:"settings/customvariables",method:"get",params:t})}function u(t){return Object(r["a"])({url:"admin/settings/customvariables",method:"post",data:t})}},cffe:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"dataForm",attrs:{model:t.postForm,rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"邮件服务器",prop:"mail_server"}},[s("el-input",{model:{value:t.postForm.mail_server,callback:function(e){t.$set(t.postForm,"mail_server",e)},expression:"postForm.mail_server"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"发送端口",prop:"mail_port"}},[s("el-input",{model:{value:t.postForm.mail_port,callback:function(e){t.$set(t.postForm,"mail_port",e)},expression:"postForm.mail_port"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"发件人地址",prop:"send_user"}},[s("el-input",{attrs:{width:"150px"},model:{value:t.postForm.send_user,callback:function(e){t.$set(t.postForm,"send_user",e)},expression:"postForm.send_user"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"验证密码",prop:"send_pwd"}},[s("el-input",{attrs:{"show-password":""},model:{value:t.postForm.send_pwd,callback:function(e){t.$set(t.postForm,"send_pwd",e)},expression:"postForm.send_pwd"}})],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"测试放送"}},[s("el-input",{model:{value:t.test_email,callback:function(e){t.test_email=e},expression:"test_email"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{type:"success"},on:{click:function(e){return t.testSendEmail()}}},[t._v("测试发送")])],1)],1),t._v(" "),s("el-form-item",[s("el-button",[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveData()}}},[t._v("保存")])],1)],1)],1)},a=[],n=s("34b7"),o={name:"emailSettings",filters:{},beforeCreate:function(){this},data:function(){return{listLoading:!0,test_email:"",postForm:{mail_server:"",mail_port:"",send_user:"",send_pwd:""},rules:{mail_server:[{required:!0,message:"邮件服务器必须填写",trigger:"blur"}],mail_port:[{required:!0,message:"发送端口必须填写",trigger:"blur"}],send_user:[{required:!0,type:"email",message:"发件人地址必须填写",trigger:"blur"}],send_pwd:[{required:!0,message:"验证密码必须填写",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(n["b"])().then(function(e){t.postForm=e.data.results,t.listLoading=!1})},testSendEmail:function(){var t=/^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/;""!=this.test_email?t.test(this.test_email)?console.log("test send email"):this.$message.error("请输入合法的邮件地址"):this.$message.error("请输入要测试发送的邮件地址")},saveData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&Object(n["e"])(t.postForm).then(function(e){e.data.status==t.GLOBAL.SuccessText?t.GLOBAL.msgNotify("success","成功",e.data.msg):t.GLOBAL.msgNotify("error","失败",e.data.msg)})})}}},i=o,l=s("2877"),u=Object(l["a"])(i,r,a,!1,null,null,null);e["default"]=u.exports}}]);