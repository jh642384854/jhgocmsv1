(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3351ad2"],{"34b7":function(t,e,s){"use strict";s.d(e,"c",function(){return l}),s.d(e,"f",function(){return r}),s.d(e,"b",function(){return i}),s.d(e,"e",function(){return a}),s.d(e,"a",function(){return n}),s.d(e,"d",function(){return u});var o=s("b775");function l(t){return Object(o["a"])({url:"admin/settings/sys",method:"get",params:t})}function r(t){return Object(o["a"])({url:"admin/settings/sys",method:"post",data:t})}function i(t){return Object(o["a"])({url:"admin/settings/email",method:"get",params:t})}function a(t){return Object(o["a"])({url:"admin/settings/email",method:"post",data:t})}function n(t){return Object(o["a"])({url:"settings/customvariables",method:"get",params:t})}function u(t){return Object(o["a"])({url:"admin/settings/customvariables",method:"post",data:t})}},df28:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"dataForm",attrs:{model:t.postForm,rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"网站名称",prop:"sitename"}},[s("el-input",{model:{value:t.postForm.sitename,callback:function(e){t.$set(t.postForm,"sitename",e)},expression:"postForm.sitename"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"网站地址",prop:"siteurl"}},[s("el-input",{model:{value:t.postForm.siteurl,callback:function(e){t.$set(t.postForm,"siteurl",e)},expression:"postForm.siteurl"}})],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"联系电话",prop:"telphone"}},[s("el-input",{model:{value:t.postForm.telphone,callback:function(e){t.$set(t.postForm,"telphone",e)},expression:"postForm.telphone"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"联系邮箱",prop:"email"}},[s("el-input",{model:{value:t.postForm.email,callback:function(e){t.$set(t.postForm,"email",e)},expression:"postForm.email"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"联系QQ",prop:"qq"}},[s("el-input",{model:{value:t.postForm.qq,callback:function(e){t.$set(t.postForm,"qq",e)},expression:"postForm.qq"}})],1)],1)],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"微信号",prop:"wx_number"}},[s("el-input",{model:{value:t.postForm.wx_number,callback:function(e){t.$set(t.postForm,"wx_number",e)},expression:"postForm.wx_number"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"客服电话",prop:"custom_tel"}},[s("el-input",{model:{value:t.postForm.custom_tel,callback:function(e){t.$set(t.postForm,"custom_tel",e)},expression:"postForm.custom_tel"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:"备案号",prop:"icp_number"}},[s("el-input",{model:{value:t.postForm.icp_number,callback:function(e){t.$set(t.postForm,"icp_number",e)},expression:"postForm.icp_number"}})],1)],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"SEO标题",prop:"site_seo_title"}},[s("el-input",{model:{value:t.postForm.site_seo_title,callback:function(e){t.$set(t.postForm,"site_seo_title",e)},expression:"postForm.site_seo_title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"SEO关键字",prop:"site_seo_keywords"}},[s("el-input",{model:{value:t.postForm.site_seo_keywords,callback:function(e){t.$set(t.postForm,"site_seo_keywords",e)},expression:"postForm.site_seo_keywords"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"SEO描述",prop:"site_seo_description"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.postForm.site_seo_description,callback:function(e){t.$set(t.postForm,"site_seo_description",e)},expression:"postForm.site_seo_description"}})],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:5}},[s("el-form-item",{attrs:{label:"附件上传大小",prop:"upload_file_limit_size"}},[s("el-input-number",{attrs:{min:1,max:20},model:{value:t.postForm.upload_file_limit_size,callback:function(e){t.$set(t.postForm,"upload_file_limit_size",e)},expression:"postForm.upload_file_limit_size"}}),t._v(" "),s("span",[t._v("单位M")])],1)],1),t._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:"附件上传类型",prop:"upload_file_suffix"}},[s("el-input",{model:{value:t.postForm.upload_file_suffix,callback:function(e){t.$set(t.postForm,"upload_file_suffix",e)},expression:"postForm.upload_file_suffix"}})],1)],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"网站LOGO",prop:"site_logo"}},[s("el-upload",{ref:"upload",staticClass:"thumb-uploader",attrs:{accept:t.GLOBAL.AllowImageSuffix,action:t.GLOBAL.UploadAttachmentUrl,"list-type":"picture","auto-upload":!1,"show-file-list":!1,"on-success":t.handleThumbSuccess,"on-change":t.imgPreview}},[t.postForm.site_logo?s("img",{staticClass:"thumb",attrs:{src:t.postForm.site_logo}}):s("i",{staticClass:"el-icon-plus thumb-uploader-icon"}),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.GLOBAL.ImageUploadTips))])])],1),t._v(" "),s("el-form-item",[s("el-button",[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveData()}}},[t._v("保存")])],1)],1)],1)},l=[],r=s("34b7"),i={name:"sysSettings",filters:{},beforeCreate:function(){this},data:function(){return{hasSelectFileUpload:!1,listLoading:!0,postForm:{sitename:"",siteurl:"",site_logo:"",telphone:"",email:"",qq:"",wx_number:"",custom_tel:"",icp_number:"",site_seo_title:"",site_seo_keywords:"",site_seo_description:"",upload_file_limit_size:"",upload_file_suffix:""},rules:{sitename:[{required:!0,message:"站点名称必须填写",trigger:"blur"}],siteurl:[{required:!0,message:"站点URL必须填写",trigger:"blur"}],telphone:[{required:!0,message:"联系电话必须填写",trigger:"blur"}],email:[{required:!0,type:"email",message:"email必须填写",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(r["c"])().then(function(e){t.postForm=e.data.results,t.listLoading=!1})},imgPreview:function(t,e){this.GLOBAL.uploadImageCheck(t,e)&&(this.hasSelectFileUpload=!0,this.postForm.site_logo=t.url)},handleThumbSuccess:function(t,e,s){if(t.data.status!=this.GLOBAL.SuccessText)return this.GLOBAL.msgNotify("error","失败",t.data.msg),!1;this.postForm.upload_img_url=t.data.attachment.upload_file_path},saveData:function(){var t=this;this.$refs["dataForm"].validate(function(e){e&&(t.hasSelectFileUpload&&t.$refs.upload.submit(),Object(r["f"])(t.postForm).then(function(e){e.data.status==t.GLOBAL.SuccessText?("undefined"!=typeof t.postForm.upload_img_url&&(t.postForm.site_logo=t.postForm.upload_img_url),t.GLOBAL.msgNotify("success","成功",e.data.msg)):t.GLOBAL.msgNotify("error","失败",e.data.msg)}))})}}},a=i,n=s("2877"),u=Object(n["a"])(a,o,l,!1,null,null,null);e["default"]=u.exports}}]);