(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28ce7c70"],{"34b7":function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"f",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"e",function(){return l}),a.d(e,"a",function(){return o}),a.d(e,"d",function(){return u});var r=a("b775");function n(t){return Object(r["a"])({url:"admin/settings/sys",method:"get",params:t})}function i(t){return Object(r["a"])({url:"admin/settings/sys",method:"post",data:t})}function s(t){return Object(r["a"])({url:"admin/settings/email",method:"get",params:t})}function l(t){return Object(r["a"])({url:"admin/settings/email",method:"post",data:t})}function o(t){return Object(r["a"])({url:"settings/customvariables",method:"get",params:t})}function u(t){return Object(r["a"])({url:"admin/settings/customvariables",method:"post",data:t})}},"9dbf":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"注意：变量名以英文字母数字下划线命名,且只能以英文字母开头",type:"success",closable:!1}}),t._v(" "),a("el-form",{ref:"dynamicValidateForm",attrs:{model:t.dynamicValidateForm,"label-width":"100px"}},[t._l(t.dynamicValidateForm.customVariables,function(e,r){return a("el-row",{key:e.key,attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"变量名"+(r+1),prop:"customVariables."+r+".name",rules:{required:!0,minlength:1,maxlength:20,pattern:"^[a-zA-Z][a-zA-Z0-9_]*$",message:"变量名不能为空或不合法",trigger:"blur"}}},[a("el-input",{attrs:{width:"150"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"值",prop:"customVariables."+r+".value",rules:{required:!0,message:"值不能为空",trigger:"blur"}}},[a("el-input",{attrs:{width:"150"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{key:e.key,attrs:{label:"描述",prop:"customVariables."+r+".value"}},[a("el-input",{attrs:{width:"150"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{on:{click:function(a){return a.preventDefault(),t.removeItem(e)}}},[t._v("删除")])],1)],1)}),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:t.addItem}},[t._v("新增变量")])],1)],2)],1)},n=[],i=a("34b7"),s={name:"customVariables",filters:{},beforeCreate:function(){this},data:function(){return{listLoading:!0,dynamicValidateForm:{customVariables:[{name:"",value:"",remark:""}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(i["a"])().then(function(e){t.dynamicValidateForm.customVariables=e.data.results,t.listLoading=!1})},submitForm:function(){var t=this;this.$refs["dynamicValidateForm"].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(i["d"])(t.dynamicValidateForm).then(function(e){e.data.status==t.GLOBAL.SuccessText?t.GLOBAL.msgNotify("success","成功",e.data.msg):t.GLOBAL.msgNotify("error","失败",e.data.msg)})})},removeItem:function(t){var e=this.dynamicValidateForm.customVariables.indexOf(t);-1!==e&&this.dynamicValidateForm.customVariables.splice(e,1)},addItem:function(){this.dynamicValidateForm.customVariables.push({value:"",key:Date.now()})}}},l=s,o=a("2877"),u=Object(o["a"])(l,r,n,!1,null,null,null);e["default"]=u.exports}}]);